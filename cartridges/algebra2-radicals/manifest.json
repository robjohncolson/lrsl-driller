{
  "meta": {
    "id": "algebra2-radicals",
    "name": "Simplify Radicals",
    "subject": "Algebra 2",
    "unit": "1",
    "skill": "Simplify radical expressions",
    "description": "Learn to simplify radicals by visualizing perfect square factors"
  },

  "config": {
    "sharedContexts": null,
    "skills": ["simplify-radicals"]
  },

  "display": {
    "showGraph": false,
    "infoPanel": [
      { "label": "Problem Type", "value": "{{problemType}}" },
      { "label": "Expression", "value": "{{expression}}" }
    ]
  },

  "modes": [
    {
      "id": "simplify-radicals",
      "name": "Level 1: Basics",
      "unlockedBy": "default",
      "layout": {
        "inputs": [
          {
            "id": "visual-radical",
            "type": "visual-radical",
            "label": "Simplify √{{radicand}} by extracting perfect square factors"
          }
        ]
      }
    },
    {
      "id": "simplify-radicals-hard",
      "name": "Level 2: Prime Factorization",
      "unlockedBy": { "gold": 25 },
      "layout": {
        "inputs": [
          {
            "id": "visual-radical-prime",
            "type": "visual-radical-prime",
            "label": "Build the prime factorization of √{{radicand}}, then drag pairs outside"
          }
        ]
      }
    },
    {
      "id": "simplify-radicals-typed",
      "name": "Level 3: No Scaffolding",
      "unlockedBy": { "gold": 40 },
      "layout": {
        "inputs": [
          {
            "id": "typed-coefficient",
            "type": "dropdown",
            "label": "Simplify √{{radicand}} — Coefficient (number outside √):",
            "placeholder": "Select coefficient...",
            "options": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"]
          },
          {
            "id": "typed-radicand",
            "type": "number",
            "label": "Remaining radicand (number inside √, or 1 if perfect square):",
            "placeholder": "Enter radicand..."
          }
        ]
      }
    },
    {
      "id": "simplify-radicals-complex",
      "name": "Level 4: Complex Numbers",
      "unlockedBy": { "gold": 55 },
      "layout": {
        "inputs": [
          {
            "id": "visual-radical-complex",
            "type": "visual-radical-complex",
            "label": "Simplify √{{radicand}} — Extract pairs and i from negative radicands"
          }
        ]
      }
    },
    {
      "id": "simplify-radicals-complex-typed",
      "name": "Level 5: Complex No Scaffolding",
      "unlockedBy": { "gold": 70 },
      "layout": {
        "inputs": [
          {
            "id": "typed-has-i",
            "type": "dropdown",
            "label": "Simplify √{{radicand}} — Does the answer have i?",
            "placeholder": "Select...",
            "options": ["No (positive radicand)", "Yes (negative radicand)"]
          },
          {
            "id": "typed-complex-coefficient",
            "type": "dropdown",
            "label": "Coefficient (number outside √):",
            "placeholder": "Select coefficient...",
            "options": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"]
          },
          {
            "id": "typed-complex-radicand",
            "type": "number",
            "label": "Remaining radicand (number inside √, or 1 if perfect square):",
            "placeholder": "Enter radicand..."
          }
        ]
      }
    }
  ],

  "grading": {
    "rubricFile": "grading-rules.js",
    "aiPromptFile": null,
    "scoring": {
      "scale": ["E", "P", "I"],
      "meanings": {
        "E": "Essentially Correct - fully simplified",
        "P": "Partially Correct - could simplify further",
        "I": "Incorrect - not simplified or wrong grouping"
      }
    },
    "composite": {
      "rule": "all-E-for-star",
      "starTiers": ["gold", "silver", "bronze", "tin"]
    }
  },

  "hints": {
    "perField": {
      "visual-radical": "Group unit squares into 2×2, 3×3, or larger perfect squares. Each side length comes out of the radical!"
    },
    "penalty": {
      "0": "gold",
      "1": "silver",
      "2": "bronze",
      "3": "tin"
    }
  },

  "progression": {
    "streaksPerField": false,
    "streakFields": ["problem"],
    "tiers": [
      {
        "id": "simplify-radicals",
        "name": "Level 1: Basics",
        "unlockedBy": "default"
      },
      {
        "id": "simplify-radicals-hard",
        "name": "Level 2: Prime Factorization",
        "unlockedBy": { "gold": 25 },
        "celebrationMessage": "Level 2 Unlocked! Now build prime factorizations and drag pairs outside the radical!"
      },
      {
        "id": "simplify-radicals-typed",
        "name": "Level 3: No Scaffolding",
        "unlockedBy": { "gold": 40 },
        "celebrationMessage": "Level 3 Unlocked! Now simplify radicals without any visual help!"
      },
      {
        "id": "simplify-radicals-complex",
        "name": "Level 4: Complex Numbers",
        "unlockedBy": { "gold": 55 },
        "celebrationMessage": "Level 4 Unlocked! Now simplify radicals with negative radicands using i!"
      },
      {
        "id": "simplify-radicals-complex-typed",
        "name": "Level 5: Complex No Scaffolding",
        "unlockedBy": { "gold": 70 },
        "celebrationMessage": "Level 5 Unlocked! Simplify complex radicals without any visual help!"
      }
    ]
  }
}
